[build]
  builder = python
  buildCommand = "pip install -r requirements.txt"
  
[build.api]
  pythonVersion = "3.11"

[[statics]]
  path = "static"
  urlPrefix = "/static"

[healthCheck]
  path = "/api/health"
  interval = 30
  timeout = 10
  restartThreshold = 3

[restartPolicy]
  type = "on-failure"
  delay = "10s"

[[mounts]]
  source = "backend"
  target = "/app"

[environments]
[environments.production]
  [environments.production.variables]
    DEBUG = "false"
    PORT = "5000"
    FRONTEND_URL = "https://your-project.pages.dev"

[environments.development]
  [environments.development.variables]
    DEBUG = "true"
    PORT = "5000"
    FRONTEND_URL = "http://localhost:5173"
